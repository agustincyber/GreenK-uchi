<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoyaDelight - Empanadas de Harina de Soya</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&family=Playfair+Display:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/a2d9b7f3d6.js" crossorigin="anonymous"></script>
    <!-- Tailwind CSS CDN no tocar floppa-->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-[#fcfcfc] text-[#112] leading-relaxed flex flex-col min-h-screen">
    <button id="halloween-btn"
        class="halloween-button fixed top-20 right-5 z-[3000] cursor-pointer rounded-full bg-white/20 p-2 text-3xl text-[#ff8c00] shadow-lg transition-all duration-300 hover:scale-125">
        üéÉ
    </button>

    <header
        class="bg-[#00a86b] text-white p-4 flex items-center justify-between sticky top-0 z-50 transition-colors duration-500">
        <div class="brand flex items-center gap-3">
            <div class="logo w-12 h-12 rounded-lg bg-white/15 flex items-center justify-center font-extrabold text-xl">
                SD</div>
            <h1 class="text-2xl font-bold">SoyaDelight</h1>
        </div>

        <nav class="hidden md:flex gap-6">
            <a href="#productos" class="font-semibold hover:underline">Productos</a>
            <a href="#ofertas" class="font-semibold hover:underline">Ofertas</a>
            <a href="#testimonios" class="font-semibold hover:underline">Testimonios</a>
            <a href="#contacto" class="font-semibold hover:underline">Contacto</a>
        </nav>
    </header>

    <main class="flex-grow">
        <section class="hero grid grid-cols-1 md:grid-cols-2 gap-8 items-center py-12 px-[4%] max-w-6xl mx-auto">
            <div class="copy text-center md:text-left">
                <span
                    class="badge inline-block bg-green-500/20 py-1.5 px-3 rounded-full font-bold mb-4 text-sm">¬°Novedad!</span>
                <h2 class="text-4xl font-bold mb-2 leading-tight">Deliciosas Empanadas de Harina de Soya</h2>
                <p class="text-[#6b6b6b] mb-6">Disfruta de nuestras empanadas hechas con harina de soya de alta calidad,
                    ricas en prote√≠nas y bajas en grasas.</p>
                <div class="cta flex gap-4 justify-center md:justify-start flex-wrap">
                    <button class="btn btn-primary bg-[#112] text-white p-3 rounded-lg" id="order-btn">
                        <i class="fas fa-shopping-cart"></i> Comprar ahora
                    </button>
                    <a href="#productos" class="btn btn-outline border-2 border-[#112] text-[#112] p-3 rounded-lg">
                        <i class="fas fa-utensils"></i> Ver Productos
                    </a>
                </div>
            </div>

            <div class="hero-image rounded-xl overflow-hidden transition-all duration-500">
                <img src="img/banner-principal.png" alt="Empanadas de harina de soya">
            </div>
        </section>

        <div
            class="promo-banner bg-gradient-to-r from-[#112] to-[#334] text-white p-4 overflow-hidden relative my-8 w-full transition-colors duration-500">
            <div class="promo-content flex whitespace-nowrap animate-scrollBanner">
                <div class="promo-text flex items-center gap-4 px-8 flex-shrink-0">
                    <span class="promo-tag bg-[#ff5722] text-white py-1 px-2 rounded font-bold text-sm">STOCK
                        LIMITADO</span>
                    <span>¬°OFERTA ESPECIAL! 6 empanadas por S/ 14.00 (Ahorras S/ 4.00)</span>
                    <span class="promo-highlight text-[#ffeb3b] font-bold">¬øREGALO ESPECIAL? ¬°P√çDELO COMO REGALO!
                        üí¨</span>
                    <span>ENV√çOS R√ÅPIDOS A TODO HUANCAYO ‚úì</span>
                    <span>USA CODIGO "EMPRENDIMIENTO" Y OBTEN 15% DSCTO</span>
                </div>
                <div class="promo-text flex items-center gap-4 px-8 flex-shrink-0">
                    <span class="promo-tag bg-[#ff5722] text-white py-1 px-2 rounded font-bold text-sm">STOCK
                        LIMITADO</span>
                    <span>¬°OFERTA ESPECIAL! 6 empanadas por S/ 14.00 (Ahorras S/ 4.00)</span>
                    <span class="promo-highlight text-[#ffeb3b] font-bold">¬øREGALO ESPECIAL? ¬°P√çDELO COMO REGALO!
                        üí¨</span>
                    <span>ENV√çOS R√ÅPIDOS A TODO HUANCAYO ‚úì</span>
                    <span>USA CODIGO "EMPRENDIMIENTO" Y OBTEN 15% DSCTO</span>
                </div>
            </div>
        </div>

        <section id="productos" class="py-8 px-[4%]">
            <h2 class="section-title text-center text-3xl font-bold my-8">Nuestras Empanadas</h2>

            <div class="product-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
                <div class="product-card shadow-lg rounded-xl relative overflow-hidden">
                    <span
                        class="product-tag bg-[#00a86b] text-white py-1 px-2 rounded-lg font-bold text-sm absolute top-2 right-2 z-10">
                        M√°s Vendido
                    </span>

                    <img src="img/empanada-soya-vegetales.png" alt="Empanada de soya con vegetales"
                        class="product-image rounded-t-xl w-full">

                    <div class="info p-6">
                        <h3 class="font-bold text-lg mb-1">Empanada de Soya y Vegetales</h3>
                        <p class="text-[#6b6b6b] text-sm mb-3">Relleno de soya texturizada, zanahoria, pimiento y
                            especias naturales.</p>
                        <div class="price-row flex justify-between items-center">
                            <span class="price price-color text-[#00a86b] font-semibold">S/ 9.00</span>
                            <button class="btn-sm btn-primary bg-[#112] text-white px-3 py-1 rounded add-to-cart"
                                data-product="Empanada de Soya y Vegetales" data-price="9.00">
                                Agregar
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card shadow-lg rounded-xl relative overflow-hidden">
                    <img src="img/empanada-soya-champi√±ones.png" alt="Empanada de soya con champi√±ones"
                        class="product-image rounded-t-xl w-full">
                    <div class="info p-6">
                        <h3 class="font-bold text-lg mb-1">Empanada de Soya y Champi√±ones</h3>
                        <p class="text-[#6b6b6b] text-sm mb-3">Combinaci√≥n perfecta de soya con champi√±ones salteados y
                            hierbas arom√°ticas.</p>
                        <div class="price-row flex justify-between items-center">
                            <span class="price price-color text-[#00a86b] font-semibold">S/ 10.00</span>
                            <button class="btn-sm btn-primary bg-[#112] text-white px-3 py-1 rounded add-to-cart"
                                data-product="Empanada de Soya y Champi√±ones" data-price="10.00">
                                Agregar
                            </button>
                        </div>
                    </div>
                </div>
                <div class="product-card shadow-lg rounded-xl relative overflow-hidden">
                    <span
                        class="product-tag bg-[#00a86b] text-white py-1 px-2 rounded-lg font-bold text-sm absolute top-2 right-2 z-10">Vegana</span>
                    <img src="img/empanada-vegana-soya.png" alt="Empanada de soya vegana"
                        class="product-image rounded-t-xl w-full">
                    <div class="info p-6">
                        <h3 class="font-bold text-lg mb-1">Empanada Vegana de Soya</h3>
                        <p class="text-[#6b6b6b] text-sm mb-3">100% vegana, sin ingredientes de origen animal. Ideal
                            para dietas estrictas.</p>
                        <div class="price-row flex justify-between items-center">
                            <span class="price price-color text-[#00a86b] font-semibold">S/ 11.00</span>
                            <button class="btn-sm btn-primary bg-[#112] text-white px-3 py-1 rounded add-to-cart"
                                data-product="Empanada Vegana de Soya" data-price="11.00">
                                Agregar
                            </button>
                        </div>
                    </div>
                </div>
                <div class="product-card shadow-lg rounded-xl relative overflow-hidden">
                    <img src="img/empanada-soya-picante.png" alt="Empanada de soya picante"
                        class="product-image rounded-t-xl w-full">
                    <div class="info p-6">
                        <h3 class="font-bold text-lg mb-1">Empanada de Soya Picante</h3>
                        <p class="text-[#6b6b6b] text-sm mb-3">Para los amantes del picante, con aj√≠es seleccionados y
                            soya marinada.</p>
                        <div class="price-row flex justify-between items-center">
                            <span class="price price-color text-[#00a86b] font-semibold">S/ 10.00</span>
                            <button class="btn-sm btn-primary bg-[#112] text-white px-3 py-1 rounded add-to-cart"
                                data-product="Empanada de Soya Picante" data-price="10.00">
                                Agregar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ofertas" class="section-ofertas py-8 px-[4%] bg-gray-100 transition-colors duration-500">
            <h2 class="section-title text-center text-3xl font-bold my-8">Ofertas Especiales</h2>
            <div class="product-grid grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                <div class="product-card shadow-lg rounded-xl relative overflow-hidden bg-white">
                    <div class="info p-6">
                        <h3 class="font-bold text-lg mb-1">Combo Familiar (6 unidades)</h3>
                        <p class="text-[#6b6b6b] text-sm mb-3">Lleva 6 empanadas de tu elecci√≥n por un precio especial.
                        </p>
                        <div class="price-row flex justify-between items-center">
                            <span class="price price-color text-[#00a86b] font-semibold">S/ 14.00</span>
                            <button class="btn btn-primary bg-[#112] text-white px-3 py-1 rounded"
                                data-offer="combo6">Comprar
                                Combo</button>
                        </div>
                    </div>
                </div>
                <div class="product-card shadow-lg rounded-xl relative overflow-hidden bg-white">
                    <div class="info p-6">
                        <h3 class="font-bold text-lg mb-1">Combo Fiesta (12 unidades)</h3>
                        <p class="text-[#6b6b6b] text-sm mb-3">Perfecto para eventos y reuniones. 12 empanadas de
                            diferentes sabores.</p>
                        <div class="price-row flex justify-between items-center">
                            <span class="price price-color text-[#00a86b] font-semibold">S/ 25.00</span>
                            <button class="btn btn-primary bg-[#112] text-white px-3 py-1 rounded"
                                data-offer="combo12">Comprar
                                Combo</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="testimonials-section py-12 px-[4%] bg-gray-100 mt-8 transition-colors duration-500"
            id="testimonios">
            <h2 class="section-title text-center text-3xl font-bold my-8">Lo Que Dicen Nuestros Clientes</h2>
            <div class="testimonial-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
                <div class="testimonial-card bg-white rounded-xl p-6 flex flex-col justify-between">
                    <p class="testimonial-text">"¬°Me encant√≥ el color dorado perfecto que tienen las empanadas!
                        Adem√°s,
                        su textura es incre√≠blemente crocante por fuera y suave por dentro. ¬°Una delicia!"</p>
                    <div class="testimonial-author flex items-center gap-2 mt-2">
                        <div
                            class="author-avatar bg-[#00a86b] text-white rounded-full w-10 h-10 flex items-center justify-center">
                            JR</div>
                        <div class="author-info text-sm mt-2">
                            <h4 class="font-bold">Juan Ramos</h4>
                            <p class="text-sm text-[#6b6b6b]">Cliente frecuente</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card bg-white rounded-xl p-6 flex flex-col justify-between">
                    <p class="testimonial-text">"Como vegetariano, es dif√≠cil encontrar opciones sabrosas y
                        convenientes. SoyaDelight ha cambiado mi rutina alimentaria completamente. ¬°Y esa crocancia es
                        adictiva!"</p>
                    <div class="testimonial-author flex items-center gap-2 mt-2">
                        <div
                            class="author-avatar bg-[#00a86b] text-white rounded-full w-10 h-10 flex items-center justify-center">
                            CR</div>
                        <div class="author-info text-sm mt-2">
                            <h4 class="font-bold">Carlos Ramos</h4>
                            <p class="text-sm text-[#6b6b6b]">Vegetariano</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card bg-white rounded-xl p-6 flex flex-col justify-between">
                    <p class="testimonial-text">"Compro regularmente para mi familia. A mis hijos les encanta ese color
                        dorado perfecto y lo crocante que quedan las empanadas. Yo estoy tranquila sabiendo que les doy
                        comida nutritiva y deliciosa."</p>
                    <div class="testimonial-author flex items-center gap-2 mt-2">
                        <div
                            class="author-avatar bg-[#00a86b] text-white rounded-full w-10 h-10 flex items-center justify-center">
                            AR</div>
                        <div class="author-info text-sm mt-2">
                            <h4 class="font-bold">Ana Ramos</h4>
                            <p class="text-sm text-[#6b6b6b]">Madre de familia</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer id="contacto"
        class="main-footer grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 py-8 px-[4%] bg-[#112] text-white mt-12 transition-colors duration-500">
        <div class="footer-section">
            <h3 class="font-bold text-xl mb-2">SoyaDelight</h3>
            <p class="text-gray-400">Deliciosas empanadas de harina de soya para una alimentaci√≥n consciente.</p>
        </div>
        <div class="footer-section">
            <h3 class="font-bold text-xl mb-2">Contacto</h3>
            <p class="text-gray-400"><i class="fas fa-map-marker-alt w-4 mr-1"></i> Av. Principal 123, Huancayo</p>
            <p class="text-gray-400"><i class="fas fa-phone w-4 mr-1"></i> +51 933 750 473</p>
        </div>
        <div class="footer-section">
            <h3 class="font-bold text-xl mb-2">Horario</h3>
            <p class="text-gray-400">Lunes a Viernes: 9:00 - 20:00</p>
            <p class="text-gray-400">S√°bados: 10:00 - 18:00</p>
        </div>
        <div class="copyright col-span-full text-center pt-4 border-t border-white/10 mt-4 text-gray-400">
            <p>&copy; 2023 SoyaDelight. Todos los derechos reservados.</p>
        </div>
    </footer>

    <div class="modal hidden fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4" id="order-modal">
        <div class="dialog w-full max-w-2xl bg-white rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto">
            <div class="modal-header flex justify-between items-center p-6 border-b border-gray-200">
                <h3 class="text-2xl font-bold text-gray-800">üõí Realizar Pedido</h3>
                <button class="text-2xl text-gray-400 hover:text-gray-700" id="close-modal">&times;</button>
            </div>

            <form id="order-form" class="p-6">
                <div class="mb-6">
                    <label class="block mb-3 font-semibold text-gray-700 text-lg">Selecciona tus empanadas</label>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between border rounded-lg p-4">
                            <div>
                                <div class="font-medium text-gray-800">Empanada de Soya y Vegetales</div>
                                <div class="text-sm text-gray-500">S/ 9.00</div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-200 text-gray-700 text-xl font-bold flex items-center justify-center quantity-btn minus"
                                    data-product="vegetales">‚àí</button>
                                <input type="number" class="w-14 text-center border rounded-md py-1 px-2 quantity-input"
                                    id="vegetales-qty" min="0" value="0" data-price="9.00">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-800 text-white text-xl font-bold flex items-center justify-center quantity-btn plus"
                                    data-product="vegetales">+</button>
                            </div>
                        </div>

                        <div class="flex items-center justify-between border rounded-lg p-4">
                            <div>
                                <div class="font-medium text-gray-800">Empanada de Soya y Champi√±ones</div>
                                <div class="text-sm text-gray-500">S/ 10.00</div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-200 text-gray-700 text-xl font-bold flex items-center justify-center quantity-btn minus"
                                    data-product="champi√±ones">‚àí</button>
                                <input type="number" class="w-14 text-center border rounded-md py-1 px-2 quantity-input"
                                    id="champi√±ones-qty" min="0" value="0" data-price="10.00">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-800 text-white text-xl font-bold flex items-center justify-center quantity-btn plus"
                                    data-product="champi√±ones">+</button>
                            </div>
                        </div>

                        <div class="flex items-center justify-between border rounded-lg p-4">
                            <div>
                                <div class="font-medium text-gray-800">Empanada Vegana de Soya</div>
                                <div class="text-sm text-gray-500">S/ 11.00</div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-200 text-gray-700 text-xl font-bold flex items-center justify-center quantity-btn minus"
                                    data-product="vegana">‚àí</button>
                                <input type="number" class="w-14 text-center border rounded-md py-1 px-2 quantity-input"
                                    id="vegana-qty" min="0" value="0" data-price="11.00">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-800 text-white text-xl font-bold flex items-center justify-center quantity-btn plus"
                                    data-product="vegana">+</button>
                            </div>
                        </div>

                        <div class="flex items-center justify-between border rounded-lg p-4">
                            <div>
                                <div class="font-medium text-gray-800">Empanada de Soya Picante</div>
                                <div class="text-sm text-gray-500">S/ 10.00</div>
                            </div>
                            <div class="flex items-center gap-2">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-200 text-gray-700 text-xl font-bold flex items-center justify-center quantity-btn minus"
                                    data-product="picante">‚àí</button>
                                <input type="number" class="w-14 text-center border rounded-md py-1 px-2 quantity-input"
                                    id="picante-qty" min="0" value="0" data-price="10.00">
                                <button type="button"
                                    class="w-8 h-8 rounded-full bg-gray-800 text-white text-xl font-bold flex items-center justify-center quantity-btn plus"
                                    data-product="picante">+</button>
                            </div>
                        </div>
                    </div>

                    <div class="text-right mt-6 text-xl font-bold text-gray-800">
                        Total: S/ <span id="total-amount">0.00</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label for="name" class="block text-sm font-semibold text-gray-700 mb-1">Nombre completo</label>
                        <input type="text" id="name" required placeholder="Ej: Juan P√©rez"
                            class="w-full border rounded-md px-3 py-2">
                    </div>
                    <div>
                        <label for="phone" class="block text-sm font-semibold text-gray-700 mb-1">Tel√©fono</label>
                        <input type="tel" id="phone" required placeholder="Ej: 987654321"
                            class="w-full border rounded-md px-3 py-2">
                    </div>
                    <div class="sm:col-span-2">
                        <label for="address" class="block text-sm font-semibold text-gray-700 mb-1">Direcci√≥n de
                            entrega</label>
                        <input type="text" id="address" required placeholder="Av. Principal 123, Huancayo"
                            class="w-full border rounded-md px-3 py-2">
                    </div>
                    <div class="sm:col-span-2">
                        <label for="discount-code" class="block text-sm font-semibold text-gray-700 mb-1">C√≥digo de
                            descuento (opcional)</label>
                        <input type="text" id="discount-code" placeholder="Ej: EMPRENDIMIENTO"
                            class="w-full border rounded-md px-3 py-2">
                    </div>
                </div>

                <div class="flex justify-end gap-4 pt-4 border-t border-gray-200">
                    <button type="button"
                        class="px-5 py-2 rounded border border-gray-400 text-gray-700 hover:bg-gray-100"
                        id="cancel-order">
                        Cancelar
                    </button>
                    <button type="submit" class="px-6 py-2 rounded bg-[#112] text-white hover:bg-[#223] transition">
                        Realizar Pedido
                    </button>
                </div>
            </form>
        </div>
    </div>


    <div class="modal hidden fixed inset-0 bg-black/50 z-50 items-center justify-center p-4" id="coupon-modal">
        <div class="dialog w-full max-w-md bg-white p-8 rounded-xl shadow-2xl text-center">
            <div class="modal-header flex justify-between items-center mb-4">
                <h3 class="modal-title text-2xl font-bold text-[#00a86b] mx-auto">¬°Felicidades!</h3>
                <button class="close-btn text-2xl text-gray-500 absolute top-4 right-4"
                    id="close-coupon-modal">&times;</button>
            </div>
            <p class="text-sm text-[#6b6b6b]">¬°Encontraste el bot√≥n secreto de Halloween! Has desbloqueado un cup√≥n
                especial.</p>
            <div class="bg-[#00a86b] text-white p-4 rounded-lg my-4">
                <h3 class="font-bold text-xl mb-1">CUP√ìN: EMPRENDEDOR</h3>
                <p>Obt√©n un 20% de descuento adicional en tu pedido</p>
            </div>
            <p class="text-sm text-[#6b6b6b]">Usa este c√≥digo junto con "EMPRENDIMIENTO" para obtener un descuento total
                del 35%.</p>
            <div class="form-actions flex justify-center mt-6">
                <button class="btn btn-primary bg-[#00a86b] text-white px-3 py-1 rounded"
                    id="accept-coupon">¬°Entendido!</button>
            </div>
        </div>
    </div>

    <div class="contact-float fixed bottom-6 right-6 z-40 flex flex-col items-end gap-4">
        <div class="whatsapp-float group relative flex flex-col items-end">
            <div
                class="whatsapp-bubble absolute right-0 bottom-16 mb-2 w-max scale-0 group-hover:scale-100 transition-transform origin-bottom-right bg-[#25D366] text-white py-2 px-4 rounded-full shadow-lg flex items-center gap-2">
                +51 933 750 473
            </div>
            <a href="https://wa.me/51933750473"
                class="whatsapp-button w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-[#25D366] hover:scale-110 transition-transform"
                target="_blank">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" color="white"
                    height="30" width="30" xmlns="http://www.w3.org/2000/svg" style="color: white;">
                    <path
                        d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z">
                    </path>
                </svg>
            </a>
        </div>
        <div class="messenger-float group relative flex flex-col items-end">
            <div
                class="messenger-bubble absolute right-0 bottom-16 mb-2 w-max scale-0 group-hover:scale-100 transition-transform origin-bottom-right bg-[#0084FF] text-white py-2 px-4 rounded-full shadow-lg flex items-center gap-2">
                Env√≠anos un mensaje
            </div>
            <a href="https://m.me/SoyaDelight"
                class="messenger-button w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-[#0084FF] hover:scale-110 transition-transform"
                target="_blank">
                <svg fill="currentColor" width="30" height="30" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                    style="color: white;">
                    <path
                        d="M11.99121,1.00044a10.61443,10.61443,0,0,0-11,10.70019,10.46132,10.46132,0,0,0,3.41406,7.86524L4.457,21.2563a1.79959,1.79959,0,0,0,1.79883,1.74316,1.81992,1.81992,0,0,0,.72656-.15234l1.9209-.84668a11.89548,11.89548,0,0,0,3.08789.40039,10.61525,10.61525,0,0,0,11.001-10.7002A10.61525,10.61525,0,0,0,11.99121,1.00044Zm0,19.40039a9.86205,9.86205,0,0,1-2.63476-.35059,1.79856,1.79856,0,0,0-1.19629.0918l-1.71387.75586-.04492-1.49316a1.80968,1.80968,0,0,0-.60157-1.27442,8.4876,8.4876,0,0,1-2.80859-6.42969,8.65949,8.65949,0,0,1,9-8.70019,8.70522,8.70522,0,1,1,0,17.40039ZM15.72559,8.5854l-2.3125,2.75488L10.06641,9.28364a.99809.99809,0,0,0-1.28907.21L5.72559,13.13032a.99955.99955,0,1,0,1.53125,1.28516l2.498-2.97559,3.34668,2.05567a.99823.99823,0,0,0,1.28906-.209l2.86622-3.416A.99955.99955,0,1,0,15.72559,8.5854Z" />
                </svg>
            </a>
        </div>
    </div>

    <script>
        const orderBtn = document.getElementById('order-btn');
        const orderModal = document.getElementById('order-modal');
        const closeModal = document.getElementById('close-modal');
        const cancelOrder = document.getElementById('cancel-order');
        const orderForm = document.getElementById('order-form');
        const totalAmount = document.getElementById('total-amount');
        const discountCode = document.getElementById('discount-code');
        const halloweenBtn = document.getElementById('halloween-btn');
        const couponModal = document.getElementById('coupon-modal');
        const closeCouponModal = document.getElementById('close-coupon-modal');
        const acceptCoupon = document.getElementById('accept-coupon');

        let cart = { vegetales: 0, champi√±ones: 0, vegana: 0, picante: 0 };
        const prices = { vegetales: 9.00, champi√±ones: 10.00, vegana: 11.00, picante: 10.00 };
        let couponShown = false;

        const openModal = (modal) => {
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        };

        const closeModalFunc = (modal) => {
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        };

        function updateTotal() {
            let total = Object.keys(cart).reduce((sum, product) => sum + cart[product] * prices[product], 0);

            let discount = 0;
            const code = discountCode.value.toUpperCase();
            if (code.includes('EMPRENDIMIENTO')) discount += 0.15;
            if (code.includes('EMPRENDEDOR')) discount += 0.20;

            if (discount > 0) {
                total *= (1 - discount);
            }

            totalAmount.textContent = total.toFixed(2);
        }

        halloweenBtn.addEventListener('click', () => {
            document.body.classList.toggle('halloween');
            if (document.body.classList.contains('halloween') && !couponShown) {
                openModal(couponModal);
                couponShown = true;
            }
        });

        closeCouponModal.addEventListener('click', () => closeModalFunc(couponModal));
        acceptCoupon.addEventListener('click', () => closeModalFunc(couponModal));
        couponModal.addEventListener('click', (e) => {
            if (e.target === couponModal) closeModalFunc(couponModal);
        });

        orderBtn.addEventListener('click', () => openModal(orderModal));
        closeModal.addEventListener('click', () => closeModalFunc(orderModal));
        cancelOrder.addEventListener('click', () => closeModalFunc(orderModal));
        orderModal.addEventListener('click', (e) => {
            if (e.target === orderModal) closeModalFunc(orderModal);
        });

        document.querySelectorAll('.quantity-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const product = e.target.dataset.product;
                const input = document.getElementById(`${product}-qty`);
                let value = parseInt(input.value);

                if (e.target.classList.contains('plus')) {
                    value++;
                } else if (e.target.classList.contains('minus') && value > 0) {
                    value--;
                }

                input.value = value;
                cart[product] = value;
                updateTotal();
            });
        });

        document.querySelectorAll('.quantity-input').forEach(input => {
            input.addEventListener('input', (e) => {
                const product = e.target.id.replace('-qty', '');
                cart[product] = parseInt(e.target.value) || 0;
                updateTotal();
            });
        });

        discountCode.addEventListener('input', updateTotal);

        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', (e) => {
                const productName = e.target.dataset.product;
                let productKey;
                if (productName.includes('Vegetales')) productKey = 'vegetales';
                else if (productName.includes('Champi√±ones')) productKey = 'champi√±ones';
                else if (productName.includes('Vegana')) productKey = 'vegana';
                else if (productName.includes('Picante')) productKey = 'picante';

                if (productKey) {
                    const input = document.getElementById(`${productKey}-qty`);
                    input.value = parseInt(input.value) + 1;
                    cart[productKey] = parseInt(input.value);
                    openModal(orderModal);
                    updateTotal();
                }
            });
        });

        document.querySelectorAll('[data-offer]').forEach(button => {
            button.addEventListener('click', (e) => {
                const offer = e.target.dataset.offer;

                Object.keys(cart).forEach(p => { cart[p] = 0; });

                if (offer === 'combo6') {
                    cart = { vegetales: 2, champi√±ones: 2, vegana: 1, picante: 1 };
                } else if (offer === 'combo12') {
                    cart = { vegetales: 3, champi√±ones: 3, vegana: 3, picante: 3 };
                }

                Object.keys(cart).forEach(p => { document.getElementById(`${p}-qty`).value = cart[p]; });

                openModal(orderModal);
                updateTotal();
            });
        });

        orderForm.addEventListener('submit', (e) => {
            e.preventDefault();

            if (Object.values(cart).reduce((a, b) => a + b, 0) === 0) {
                alert('Por favor, selecciona al menos una empanada.');
                return;
            }

            let message = "¬°Hola! Quiero hacer un pedido:\n\n";
            Object.keys(cart).forEach(productKey => {
                if (cart[productKey] > 0) {
                    const name = document.querySelector(`[data-product="${productKey}"]`).closest('.product-item').querySelector('.product-name').textContent;
                    message += `${cart[productKey]} x ${name} - S/ ${(cart[productKey] * prices[productKey]).toFixed(2)}\n`;
                }
            });

            message += `\n*Total: S/ ${totalAmount.textContent}*\n`;

            if (discountCode.value) {
                message += `(C√≥digo de descuento usado: ${discountCode.value})\n`;
            }

            message += `\n*Datos de entrega:*\n`;
            message += `Nombre: ${document.getElementById('name').value}\n`;
            message += `Tel√©fono: ${document.getElementById('phone').value}\n`;
            message += `Direcci√≥n: ${document.getElementById('address').value}\n`;

            const encodedMessage = encodeURIComponent(message);
            const whatsappURL = `https://wa.me/51933750473?text=${encodedMessage}`;

            window.open(whatsappURL, '_blank');
            closeModalFunc(orderModal);
            orderForm.reset();
            Object.keys(cart).forEach(p => { cart[p] = 0; document.getElementById(`${p}-qty`).value = 0; });
            updateTotal();
        });
    </script>
</body>

</html>